"use strict";(globalThis.webpackChunknew_website=globalThis.webpackChunknew_website||[]).push([[3133],{73133(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>y,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var a=n(38766),r=n(74848),o=n(28453);const i={title:"4 Pyrefly Type Narrowing Patterns that make Type Checking more Intuitive",description:"Learn about 4 ways Pyrefly narrows types, reducing the need to explicitly cast in your code.",slug:"type-narrowing",authors:["yangdanny","rebeccachen","abbym"],tags:["typechecking"],image:"https://pyrefly.org/assets/images/type-narrowing-blog-688b8aae77abd588a29ddb9d5bab231f.png",hide_table_of_contents:!1},s=void 0,c={authorsImageUrls:[void 0,void 0,void 0]},l=[];function p(e){const t={a:"a",code:"code",img:"img",p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:n(64442).A+"",width:"5334",height:"3000"})}),"\n",(0,r.jsxs)(t.p,{children:["If we view a type of an expression or variable as the set of possible values it can resolve to,  narrowing is the process of applying constraints on those values. For example, if you have a variable ",(0,r.jsx)(t.code,{children:"x"})," whose contents you don\u2019t know, an ",(0,r.jsx)(t.code,{children:"if isinstance(x, int)"})," check will narrow the type of ",(0,r.jsx)(t.code,{children:"x"})," to ",(0,r.jsx)(t.code,{children:"int"})," inside the body of the if-statement."]}),"\n",(0,r.jsxs)(t.p,{children:["Since Python is a ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Duck_typing",children:"duck-typed"})," language, programs often narrow types by checking a structural property of something rather than just its class name. For a type checker, understanding a wide variety of narrowing patterns is essential for making it as easy as possible for users to type check their code and reduce the amount of changes made purely to \u201csatisfy the type checker\u201d."]}),"\n",(0,r.jsx)(t.p,{children:"In this blog post, we\u2019ll go over some cool forms of narrowing that Pyrefly supports, which allows it to understand common code patterns in Python."})]})}function y(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},64442(e,t,n){n.d(t,{A:()=>a});const a=n.p+"assets/images/type-narrowing-blog-688b8aae77abd588a29ddb9d5bab231f.png"},28453(e,t,n){n.d(t,{R:()=>i,x:()=>s});var a=n(96540);const r={},o=a.createContext(r);function i(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:t},e.children)}},38766(e){e.exports=JSON.parse('{"permalink":"/blog/type-narrowing","source":"@site/blog/2026-01-26-narrowing.md","title":"4 Pyrefly Type Narrowing Patterns that make Type Checking more Intuitive","description":"Learn about 4 ways Pyrefly narrows types, reducing the need to explicitly cast in your code.","date":"2026-01-26T00:00:00.000Z","tags":[{"inline":true,"label":"typechecking","permalink":"/blog/tags/typechecking"}],"readingTime":3.955,"hasTruncateMarker":true,"authors":[{"name":"Danny Yang","url":"https://github.com/yangdanny97","key":"yangdanny","page":null},{"name":"Rebecca Chen","url":"https://github.com/rchen152","key":"rebeccachen","page":null},{"name":"Abby Mitchell","url":"https://github.com/javabster","key":"abbym","page":null}],"frontMatter":{"title":"4 Pyrefly Type Narrowing Patterns that make Type Checking more Intuitive","description":"Learn about 4 ways Pyrefly narrows types, reducing the need to explicitly cast in your code.","slug":"type-narrowing","authors":["yangdanny","rebeccachen","abbym"],"tags":["typechecking"],"image":"https://pyrefly.org/assets/images/type-narrowing-blog-688b8aae77abd588a29ddb9d5bab231f.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"Making Pyrefly Diagnostics 18x Faster","permalink":"/blog/2026/02/06/performance-improvements"},"nextItem":{"title":"Fly through data validation with Pyrefly\u2019s new Pydantic integration","permalink":"/blog/pyrefly-pydantic"}}')}}]);